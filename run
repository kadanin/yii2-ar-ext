#!/usr/bin/env php7.4
<?php

use yii\console\Application;
use yii\db\Connection;

require __DIR__ . '/vendor/autoload.php';
require __DIR__ . '/vendor/yiisoft/yii2/Yii.php';

$application = new Application([
        'id'                  => 'FFFFFFFFFFUUUUUUUUU',
        'basePath'            => __DIR__,
        'controllerNamespace' => 'Kadanin\Yii2ArExt\Debug',
        'aliases'             => [
                '@Kadanin/Yii2ArExt/Debug' => __DIR__ . '/debug',
                '@app'                     => __DIR__,
        ],
        'components'          => [
                'db' => [
                        'class' => Connection::class,
                        'dsn'   => 'sqlite:@app/data/db.sql',
                ],
        ],
]);
$exitCode = $application->run();
exit($exitCode);

//(new class {
//    public function run(): void
//    {
//        $this->o('BEGIN');
//        $this->o(Test::find()->rawSql());
//        $this->o('END');
//    }
//
//    private function o(string $string): void
//    {
//        $this->stdout($string . PHP_EOL);
//    }
//
//    private function stdout(string $string): void
//    {
//        fwrite(\STDOUT, $string);
//    }
//})->run();
